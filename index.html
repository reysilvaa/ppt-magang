<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Magang MIS - PT Multi Spunindo Jaya Tbk</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/style.css" />

    <!-- Vue 3 Global Build -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

    <script>
      // Tailwind brand color configuration (teal #028284)
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                500: '#028284',
                600: '#02696b'
              }
            }
          }
        }
      };
    </script>
  </head>
  <body class="bg-slate-50 text-slate-900 antialiased">
    <div
      id="app"
      v-cloak
      class="min-h-screen flex flex-col bg-deck-gradient"
    >
      <!-- Sticky Header -->
      <header
        v-if="loaded"
        class="sticky top-0 z-30 border-b border-slate-200/70 bg-white/95 backdrop-blur-xl shadow-lg"
      >
        <div class="w-full px-4 md:px-6 lg:px-8 py-3 md:py-4 flex items-center gap-3 md:gap-4">
          <!-- Logo & Company Info - Left Side -->
          <div class="flex items-center gap-2 md:gap-2.5 min-w-0 flex-shrink-0">
            <div>
              <img
                v-if="company &amp;&amp; company.logoUrl"
                :src="company.logoUrl"
                class="h-24 w-24 md:h-32 md:w-32 object-contain"
                alt=""
              />
            </div>
            <div class="flex flex-col min-w-0">
              <div
                class="text-sm md:text-base lg:text-lg font-extrabold tracking-tight text-slate-900 truncate leading-tight"
              >
                {{ company &amp;&amp; company.name }}
              </div>
              <div
                class="text-sm md:text-sm text-brand-600 font-semibold truncate flex items-center gap-1"
              >
                <span class="inline-block w-1 h-1 bg-brand-500 rounded-full"></span>
                {{ company &amp;&amp; company.tagline }}
              </div>
            </div>
          </div>

          <!-- Spacer to push nav to right -->
          <div class="flex-1"></div>

          <!-- Desktop Navigation - Right Side -->
          <nav class="hidden md:flex items-center gap-1 flex-shrink-0">
            <button
              v-for="(slide, index) in slides"
              :key="slide.id"
              @click="goToSlide(index)"
              class="px-2.5 py-1 rounded-md transition-all duration-300 border font-semibold shadow-sm relative overflow-hidden group flex-shrink-0 text-[10px] lg:text-xs whitespace-nowrap"
              :class="index === activeSlide
                ? 'bg-gradient-to-r from-brand-500 to-brand-600 text-white border-brand-500 shadow-md scale-105'
                : 'border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-brand-500/50 hover:text-brand-600'"
            >
              <span class="relative z-10">{{ slide.navLabel || slide.title }}</span>
            </button>
          </nav>

          <!-- Mobile Menu Toggle -->
          <button
            @click="toggleMobileMenu"
            class="md:hidden p-1.5 rounded-lg border border-slate-200 text-slate-700 hover:bg-slate-50 transition-all flex-shrink-0"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>

          <!-- Fullscreen Button -->
          <button
            v-if="ui &amp;&amp; ui.fullscreenLabel"
            @click="enterFullscreen"
            class="hidden md:inline-flex items-center gap-1 px-2 py-1 rounded-md border border-slate-200 text-[10px] lg:text-xs text-slate-700 hover:bg-slate-50 hover:border-brand-500/50 hover:text-brand-600 transition-all duration-300 shadow-sm hover:shadow font-semibold group flex-shrink-0"
          >
            <svg class="w-3 h-3 lg:w-3.5 lg:h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
            </svg>
            <span class="hidden lg:inline">Fullscreen</span>
          </button>
        </div>

        <!-- Mobile Navigation Dropdown -->
        <transition name="mobile-menu">
          <div
            v-if="showMobileMenu"
            class="md:hidden border-t border-slate-200/70 bg-white/98 backdrop-blur-xl"
          >
            <div class="px-4 py-2 grid grid-cols-2 gap-1.5">
              <button
                v-for="(slide, index) in slides"
                :key="slide.id"
                @click="goToSlide(index); showMobileMenu = false"
                class="px-2.5 py-1.5 rounded-lg transition-all duration-300 border text-[10px] font-semibold text-left"
                :class="index === activeSlide
                  ? 'bg-gradient-to-r from-brand-500 to-brand-600 text-white border-brand-500 shadow-md'
                  : 'border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-brand-500/50'"
              >
                {{ slide.navLabel || slide.title }}
              </button>
            </div>
          </div>
        </transition>
      </header>

      <!-- Main Deck -->
      <main class="flex-1 flex items-center justify-center px-1 md:px-2 py-3 md:py-4">
        <!-- Loading state (no teks, hanya animasi) -->
        <div
          v-if="!loaded"
          class="w-full h-full flex items-center justify-center"
        >
          <div class="loader-pulse"></div>
        </div>

        <!-- Presentation -->
        <div
          v-else
          class="w-full flex items-center justify-center"
        >
          <div
            class="deck-frame w-full max-w-[95vw] aspect-[16/9] max-h-[calc(100vh-60px)] rounded-2xl md:rounded-3xl overflow-hidden relative shadow-deck bg-gradient-to-br from-white via-white to-slate-50/30 border border-slate-200/80"
            @click.self="handleDeckClick"
          >
            <transition name="slide-fade" mode="out-in">
              <section
                v-if="currentSlide"
                :key="currentSlide.id"
                class="w-full h-full flex flex-col px-5 md:px-8 lg:px-10 py-4 md:py-5 lg:py-6"
                :class="currentSlide.type === 'opening' ? 'justify-center' : 'justify-between'"
              >
                <!-- Opening slide (special layout) -->
                <div v-if="currentSlide.type === 'opening'" class="flex-1 flex items-center justify-center">
                  <div class="text-center space-y-6 md:space-y-8 lg:space-y-12 max-w-4xl mx-auto px-4">
                    <!-- Logo -->
                    <div v-if="currentSlide.media" class="flex justify-center mb-6 md:mb-8">
                      <img 
                        :src="currentSlide.media.src" 
                        :alt="currentSlide.media.alt"
                        class="h-32 w-32 md:h-48 md:w-48 lg:h-56 lg:w-56 object-contain drop-shadow-lg"
                      />
                    </div>
                    
                    <!-- Title and Subtitle -->
                    <div class="space-y-3 md:space-y-4">
                      <h1 class="text-2xl md:text-4xl lg:text-5xl xl:text-6xl font-bold tracking-tight text-slate-900 leading-tight">
                        {{ currentSlide.title }}
                      </h1>
                      <p v-if="currentSlide.subtitle" class="text-lg md:text-xl lg:text-2xl text-brand-600 font-semibold leading-relaxed">
                        {{ currentSlide.subtitle }}
                      </p>
                    </div>

                    <!-- Author Info -->
                    <div v-if="currentSlide.items" class="mt-8 md:mt-12 lg:mt-16">
                      <div class="bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-2xl p-6 md:p-8 border border-slate-200 shadow-lg max-w-2xl mx-auto">
                        <div class="space-y-2 md:space-y-3 text-sm md:text-base lg:text-lg text-slate-700">
                          <div v-for="(item, idx) in currentSlide.items" :key="idx" class="text-center">
                            <span class="font-medium">{{ item }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Slide Header (title + subtitle) for non-opening slides -->
                <div class="flex flex-col gap-2 md:gap-3" v-if="currentSlide.type !== 'opening'">
                  <div class="slide-header-container">
                    <div class="slide-title-accent"></div>
                    <h1
                      class="text-lg md:text-2xl lg:text-3xl font-bold tracking-tight text-slate-900 mb-1 leading-tight"
                    >
                      {{ currentSlide.title }}
                    </h1>
                    <p
                      v-if="currentSlide.subtitle"
                      class="text-xs md:text-sm lg:text-base text-slate-600 max-w-4xl font-medium leading-relaxed"
                    >
                      {{ currentSlide.subtitle }}
                    </p>
                  </div>

                  <!-- Slide Content -->
                  <div class="mt-1 md:mt-2 max-w-full flex-1"
                  >
                    <div v-if="currentSlide.type === 'bullet'">
                      <!-- Bullet + image on the right (optional, based on JSON) -->
                      <div
                        v-if="currentSlide.media"
                        class="flex flex-col md:flex-row gap-4 md:gap-5 items-start"
                      >
                        <div class="md:w-2/3">
                          <ul class="space-y-1.5 md:space-y-2 text-xs md:text-sm lg:text-base">
                            <li
                              v-for="(item, idx) in currentSlide.items"
                              :key="idx"
                              class="flex items-start gap-2.5 slide-bullet-item"
                            >
                              <div
                                class="mt-1.5 h-2 w-2 rounded-full bg-brand-500 flex-shrink-0 shadow-sm"
                              ></div>
                              <div class="text-slate-800 leading-relaxed font-medium">
                                {{ item }}
                              </div>
                            </li>
                          </ul>
                        </div>

                        <figure
                          class="md:w-1/3 w-full rounded-xl overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100/50 border border-slate-200 shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col"
                        >
                          <img
                            :src="currentSlide.media.src"
                            :alt="currentSlide.media.alt"
                            class="w-full h-auto object-contain max-h-80"
                          />
                          <figcaption
                            v-if="currentSlide.media.caption"
                            class="px-3.5 py-2.5 text-xs md:text-sm text-slate-700 bg-white border-t border-slate-200 font-medium"
                          >
                            {{ currentSlide.media.caption }}
                          </figcaption>
                        </figure>
                      </div>

                      <!-- Bullet only -->
                      <div v-else>
                        <ul class="space-y-1.5 md:space-y-2 text-xs md:text-sm lg:text-base">
                          <li
                            v-for="(item, idx) in currentSlide.items"
                            :key="idx"
                            class="flex items-start gap-2 slide-bullet-item"
                          >
                            <div
                              class="mt-1 h-1.5 w-1.5 rounded-full bg-brand-500 flex-shrink-0 shadow-sm"
                            ></div>
                            <div class="text-slate-800 leading-relaxed font-medium">
                              {{ item }}
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>

                    <!-- Paragraph slide -->
                    <div v-else-if="currentSlide.type === 'paragraph'">
                      <p
                        v-for="(para, idx) in currentSlide.paragraphs"
                        :key="idx"
                        class="text-sm md:text-base lg:text-lg text-slate-800 leading-relaxed mb-3 md:mb-4 font-medium slide-paragraph"
                      >
                        {{ para }}
                      </p>
                    </div>

                    <!-- Gallery slide -->
                    <div
                      v-else-if="currentSlide.type === 'gallery'"
                      class="flex flex-col gap-3 md:gap-4"
                    >
                      <!-- Gallery Image -->
                      <div class="relative w-full">
                        <transition name="image-fade" mode="out-in">
                          <figure
                            v-if="currentGalleryImage"
                            :key="currentGalleryImage.src"
                            class="w-full rounded-xl overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100/50 border border-slate-200 shadow-lg"
                          >
                            <img
                              :src="currentGalleryImage.src"
                              :alt="currentGalleryImage.alt"
                              class="w-full max-w-5xl mx-auto object-contain"
                              style="max-height: 600px; height: auto;"
                            />
                          </figure>
                        </transition>

                        <!-- Gallery navigation arrows -->
                        <button
                          @click.stop="prevImage"
                          class="gallery-arrow left-2"
                        >
                          <span v-if="ui &amp;&amp; ui.prevShortLabel">
                            {{ ui.prevShortLabel }}
                          </span>
                        </button>
                        <button
                          @click.stop="nextImage"
                          class="gallery-arrow right-2"
                        >
                          <span v-if="ui &amp;&amp; ui.nextShortLabel">
                            {{ ui.nextShortLabel }}
                          </span>
                        </button>

                        <!-- Gallery dots -->
                        <div
                          class="absolute bottom-3 left-0 right-0 flex items-center justify-center gap-1.5"
                        >
                          <button
                            v-for="(img, idx) in currentSlide.gallery.images"
                            :key="img.src + idx"
                            @click.stop="setGalleryIndex(idx)"
                            class="h-2 rounded-full transition-all duration-200"
                            :class="idx === galleryIndex
                              ? 'w-5 bg-brand-500 shadow-dot'
                              : 'w-2 bg-slate-400 hover:bg-slate-500'"
                          ></button>
                        </div>
                      </div>

                      <!-- Gallery description below image -->
                      <div
                        v-if="currentGalleryDescription &amp;&amp; currentGalleryDescription.length"
                        class="w-full bg-slate-50/50 rounded-xl p-4 md:p-5 border border-slate-200"
                      >
                        <div class="text-sm md:text-base text-slate-700 space-y-2 md:space-y-2.5">
                          <p
                            v-for="(para, idx) in currentGalleryDescription"
                            :key="idx"
                            class="leading-relaxed"
                          >
                            {{ para }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Bottom bar: slide indicator + controls -->
                <div
                  class="flex-shrink-0 pt-3 md:pt-4 flex items-center justify-between text-xs md:text-sm text-slate-500 border-t border-slate-100"
                >
                  <div class="flex items-center gap-1.5 px-2.5 py-1.5 bg-slate-100/70 rounded-lg border border-slate-200">
                    <span v-if="ui &amp;&amp; ui.slideIndicatorPrefix" class="font-medium text-xs">
                      {{ ui.slideIndicatorPrefix }}
                    </span>
                    <span class="font-bold text-brand-500 text-sm md:text-base">
                      {{ activeSlide + 1 }}
                    </span>
                    <span v-if="ui &amp;&amp; ui.slideSeparator" class="font-medium">
                      {{ ui.slideSeparator }}
                    </span>
                    <span class="font-medium">
                      {{ slides.length }}
                    </span>
                  </div>

                  <div class="flex items-center gap-2">
                    <button
                      @click.stop="prevSlide"
                      :disabled="activeSlide === 0"
                      class="px-3 py-1.5 rounded-lg border text-xs md:text-sm font-medium transition-all duration-300 flex items-center gap-1.5 shadow-sm"
                      :class="activeSlide === 0
                        ? 'border-slate-200 text-slate-300 cursor-not-allowed bg-slate-50'
                        : 'border-slate-300 text-slate-700 hover:bg-slate-50 hover:shadow hover:border-slate-400'"
                    >
                      {{ ui &amp;&amp; ui.prevLabel }}
                    </button>
                    <button
                      @click.stop="nextSlide"
                      :disabled="activeSlide === slides.length - 1"
                      class="px-3 py-1.5 rounded-lg border text-xs md:text-sm font-medium transition-all duration-300 flex items-center gap-1.5 shadow-md"
                      :class="activeSlide === slides.length - 1
                        ? 'border-slate-200 text-slate-300 cursor-not-allowed bg-slate-50'
                        : 'border-brand-500 text-white bg-brand-500 hover:bg-brand-600 hover:shadow-lg hover:scale-105'"
                    >
                      {{ ui &amp;&amp; ui.nextLabel }}
                    </button>
                  </div>
                </div>
              </section>
            </transition>
          </div>
        </div>
      </main>
    </div>

    <!-- Vue App Script -->
    <script src="assets/script.js"></script>
  </body>
</html>